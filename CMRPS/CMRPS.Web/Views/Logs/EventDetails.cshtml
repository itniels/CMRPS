@using CMRPS.Web.Enums
@model CMRPS.Web.Models.SysEvent

@{
    ViewBag.Title = "Details";
}

@{
    var label = "";
    var actionStatus = "";
    switch (Model.ActionStatus)
    {
        case ActionStatus.None:
            label = "label-info";
            actionStatus = "Info";
            break;
        case ActionStatus.OK:
            label = "label-success";
            actionStatus = "Success";
            break;
        case ActionStatus.Warning:
            label = "label-warning";
            actionStatus = "Warning";
            break;
        case ActionStatus.Error:
            label = "label-danger";
            actionStatus = "Error";
            break;
        default:
            label = "label-default";
            actionStatus = "Unknown";
            break;
    }
}

<h2>Details</h2>

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.User)
        </dt>

        <dd>
            @if (Model.User != null)
            {
                <span>@Html.DisplayFor(model => model.User.Firstname) </span>
                <span>@Html.DisplayFor(model => model.User.Lastname) </span>
                <span>(@Html.DisplayFor(model => model.User.UserName))</span>
            }

        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Action)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Action)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.ActionStatus)
        </dt>

        <dd>
            <span class="label @label">
                @actionStatus
            </span>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Exception)
        </dt>

        <dd>
            @Html.TextAreaFor(model => model.Exception, new { @class = "exception-details-textarea", @readonly = "readonly" })
        </dd>

    </dl>
</div>
